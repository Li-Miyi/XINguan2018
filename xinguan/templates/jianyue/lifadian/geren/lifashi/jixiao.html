<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" href="/static/image/logo.png"/>
    <title>剪约理发店管理系统</title>
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <link rel="stylesheet" href="/static/css/mmss.css"/>
    <link rel="stylesheet" href="/static/css/backgroud.css"/>
    <link rel="stylesheet" href="/static/css/font-awesome.min.css"/>
    <!--[if lt IE 9]>
    <script src="/static/js/geren/html5shiv.min.js"></script>
    <script src="/static/js/geren/respond.min.js"></script>
    <![endif]-->
</head>
<body>

<canvas id="canvas"  style= "position:absolute;z-index:-2;">Canvas not supported.</canvas>
<header>
    <div class="container-fluid navbar-fixed-top bg-primary">
        <ul class="nav navbar-nav  left">
            <li class="text-white h4">
                &nbsp;&nbsp;&nbsp;&nbsp;<span class="glyphicon glyphicon-leaf"></span>&nbsp;&nbsp;<b>剪约理发店管理系统</b>
            </li>
        </ul>
        <ul class="nav navbar-nav nav-pills right ">
            <li class="bg-info dropdown">
                <a class="dropdown-toggle" href="#" data-toggle="dropdown">
                    <span class="glyphicon glyphicon-user"></span>&nbsp;<span>{{ dianzhulianxi }}</span><span
                        class="caret"></span>
                </a>
                <ul class="dropdown-menu dropdown-menu-right">
                    <li class="text-center"><a href="{% url "jianyue:lifadian_dengchu" %}"><span
                            class="text-primary">退出</span></a></li>
                </ul>
            </li>
        </ul>
    </div>
</header>

<section >
    <div class="container-fluid">
        <div class="row ">
            <!--左侧导航开始-->
            <div class="col-xs-2 bg-blue">
                <br/>
                <div class="panel-group sidebar-menu" id="accordion" aria-multiselectable="true">
                    <div class="panel panel-default menu-first menu-first-active">
                        <a data-parent="#accordion" href="{% url 'jianyue:lifadian_geren' dianzhulianxi %}">
                            <i class="icon-home icon-large"></i> 主页
                        </a>
                    </div>
                    <div class="panel panel-default menu-first">
                        <a data-toggle="collapse" data-parent="#accordion" href="#collapseOne" aria-expanded="true"
                           aria-controls="collapseOne">
                            <i class="icon-user-md icon-large"></i> 物资管理
                        </a>

                        <div id="collapseOne" class="panel-collapse collapse ">
                            <ul class="nav nav-list menu-second">
                                <li><a href="{% url 'jianyue:lifadian_wuzi' dianzhulianxi %}"><i class="icon-user"></i>
                                    物资表格</a></li>
                                <li><a href="{% url 'jianyue:lifadian_wuzizengjia' dianzhulianxi %}"><i
                                        class="icon-edit"></i> 物资增添</a></li>
                            </ul>
                        </div>
                    </div>
                    <div class="panel panel-default menu-first">
                        <a class="collapsed" data-toggle="collapse" data-parent="#accordion" href="#collapseTwo"
                           aria-expanded="false" aria-controls="collapseTwo">
                            <i class="icon-book icon-large"></i> 理发师管理
                        </a>
                        <div id="collapseTwo" class="panel-collapse collapse">
                           <ul class="nav nav-list menu-second">
                                <li><a href="{% url 'jianyue:lifashi_jixiao' dianzhulianxi%}"><i class="icon-user"></i>绩效统计</a></li>
                                <li><a href="{% url 'jianyue:lifashi_anpai' dianzhulianxi%}"><i class="icon-edit"></i>人员安排</a></li>
                                <li><a href="{% url 'jianyue:lifashi_yuyue' dianzhulianxi%}"><i class="icon-list"></i>预约订单</a></li>
                                <li><a href="{% url 'jianyue:lifashi_fuwu' dianzhulianxi%}"><i class="icon-list"></i>服务列表</a></li>
                            </ul>
                        </div>
                    </div>
                    <div class="panel panel-default menu-first">
                        <a class="collapsed" data-toggle="collapse" data-parent="#accordion" href="#collapseThree"
                           aria-expanded="false" aria-controls="collapseThree">
                            <i class="icon-book icon-large"></i> 地址借用管理
                        </a>

                        <div id="collapseThree" class="panel-collapse collapse">
                            <ul class="nav nav-list menu-second">
                                <li><a href="{% url 'jianyue:dizhi' dianzhulianxi 'yipizhun' %}"><i
                                        class="icon-user"></i>已批准</a></li>
                                <li><a href="{% url 'jianyue:dizhi' dianzhulianxi 'weipizhun' %}"><i
                                        class="icon-edit"></i>待批准</a></li>
                            </ul>
                        </div>
                    <div class="panel panel-default menu-first">
                        <a class="collapsed" data-toggle="collapse" data-parent="#accordion" href="#collapseFour"
                           aria-expanded="false" aria-controls="collapseFour">
                            <i class="icon-book icon-large"></i> 相册
                        </a>

                        <div id="collapseFour" class="panel-collapse collapse">
                            <ul class="nav nav-list menu-second">
                                <li><a href="{% url 'jianyue:lifadian_xiangce' dianzhulianxi%}"><i class="icon-user"></i>相册</a></li>
                            </ul>
                        </div>
                    </div>
                    </div>
                </div>
            </div>
            <!--左侧导航结束-->
            <!----------------------------------------------------------------------------------------------------->
            <!--右侧内容开始-->
            <div class="col-xs-10">
                <br/>
                <div class="input-group line left">
                    <span class="input-group-addon" id="basic-addon2"><span class="glyphicon glyphicon-search"></span></span>
                    <input type="text" class="form-control" placeholder="输入关键字搜索" aria-describedby="basic-addon2">
                </div>
                <select class="form-control line left">
                    <option value="0">姓名</option>
                    <option value="1">id</option>
                    <option value="2">消费收入</option>
                    <option value="3">综合评分</option>
                </select>
                <a href="#" id="search" class=" btn btn-primary "><span class="glyphicon glyphicon-search"></span></a>
                <br/><h1 class="biaoti">绩效管理</h1><br/>
                <table class="table table-bordered table-striped text-center bg-info shadowbackground">
                    <thead >
                        <tr class="info">
                            <th class="text-center">姓名</th>
                            <th class="text-center">id</th>
                            <th class="text-center">消费收入</th>
                            <th class="text-center">综合评分</th>
                        </tr>
                    </thead>
                    <tbody>
                    {% for i in data %}
                        <tr>
                            <td>{{ i.xingming }}</td>
                            <td>{{ i.id }}</td>
                            <td>{{ i.xiaofei}}</td>
                            <td>{{ i.zongheping }}</td>
                        </tr>
                    {% endfor %}
                    </tbody>
                </table>
            <!--画图-->
            <script crossorigin="anonymous" integrity="sha512-sgjf2XQikbNM6rYK8HIvY8GnOY0WrXUkluoh71qBzH2Cdm5qLJpFLwX9zCO5lkG11k8oh89yzQ8SOqLlQjIYHw==" src="https://lib.baomitu.com/echarts/5.0.0/echarts.common.min.js"></script>
            <div id="main" style="width: 600px;height:400px; display: inline-block;"></div>
            <p class="data">
                 {{ month_data }}
            </p>
            <div id="main2" style="width: 600px;height:400px;display: inline-block"></div>
            <p class="data">
                 {{ data }}
            </p>
            <div id="main1" style="width: 1200px;height:400px;"></div>
            <p class="data">
                 {{ week_data }}
            </p>

            </div>
            <!--右侧内容结束-->
        </div>
    </div>
</section>
<footer class="bg-primary navbar-fixed-bottom">
    <p class="text-center text-white">四川大学2018级信息管理与信息系统</p>
</footer>

<script src="/static/js/geren/jquery-1.11.3.js"></script>
<script src="/static/js/geren/bootstrap.js"></script>
<script src="/static/js/geren/script.js"></script>
<script src="/static/js/geren/mmss.js"></script>

<script type="text/javascript" id="month">
        // 基于准备好的dom，初始化echarts实例
        var myChart = echarts.init(document.getElementById('main'));
        list= eval($("#main").next().html())
        series_list = list.map(function(value,index){
            if(value.name == "总量"){
                return {
                            name: value.name,
                            type: 'bar',
                            label: {
                                normal: {
                                    show: true,
                                    position: 'top'
                                }
                    },
                    areaStyle: {},
                    data: value.price,
                }
            }
                else{
                     return {
                            name: value.name,
                            type: 'line',
                            stack: '总量',
                            areaStyle: {},
                            data: value.price,
                        }
                }


        })
         console.log(series_list)




        // 指定图表的配置项和数据
option = {
    backgroundColor: 'rgba(255,255,255,0.7)',
    title: {
        text: '年绩效统计图'
    },
    tooltip: {
        trigger: 'axis',
        axisPointer: {
            type: 'cross',
            label: {
                backgroundColor: '#6a7985'
            }
        }
    },
    legend: {
        data: list.map(function (value,index) {
                return value.name
         })
    },
    toolbox: {
        feature: {
            saveAsImage: {}
        }
    },
    grid: {
        left: '3%',
        right: '4%',
        bottom: '3%',
        containLabel: true
    },
    xAxis: [
        {
            type: 'category',
            boundaryGap: false,
            data: ['一月', '二月', '三月', '四月', '五月', '六月', '七月','八月','九月','十月','十一月','十二月']
        }
    ],
    yAxis: [
        {
            type: 'value'
        }
    ],
    series: series_list
};
        // 使用刚指定的配置项和数据显示图表。
        myChart.setOption(option);
    </script>
<script type="text/javascript" id="week">
        // 基于准备好的dom，初始化echarts实例
        var myChart = echarts.init(document.getElementById('main1'));
        week_list= eval($("#main1").next().html())
        week_series_list = week_list.map(function(value,index){

                     return {
                            name: value.name,
                            type: 'line',
                            stack: '总量',
                            areaStyle: {},
                            data: value.price,
                        }
                }


        )
         console.log(week_series_list)


        // 指定图表的配置项和数据
option_week = {
    backgroundColor: 'rgba(255,255,255,0.7)',
    title: {
        text: '周绩效统计图'
    },
    tooltip: {
        trigger: 'axis',
        axisPointer: {
            type: 'cross',
            label: {
                backgroundColor: '#6a7985'
            }
        }
    },
    legend: {
        data: week_list.map(function (value,index) {
                return value.name
         })
    },
    toolbox: {
        feature: {
            saveAsImage: {}
        }
    },
    grid: {
        left: '3%',
        right: '4%',
        bottom: '3%',
        containLabel: true
    },
    xAxis: [
        {
            type: 'category',
            boundaryGap: false,
            data: new Array(24*7).fill('').map(function (value, index) {
                    return "星期"+Math.floor(index/24+1)+"\n"+index%24+"点"
            })
        }
    ],
    yAxis: [
        {
            type: 'value'
        }
    ],
    series:week_series_list
};
        // 使用刚指定的配置项和数据显示图表。
        myChart.setOption(option_week);
    </script>
<script type="text/javascript" id="person">
        // 基于准备好的dom，初始化echarts实例
        var myChart = echarts.init(document.getElementById('main2'));
        week_list= eval($("#main2").next().html())
        person_series_list = week_list.map(function(value,index){

                     return {
                            name: value.xingming,
                            value: value.xiaofei,
                        }
                }
        )
         console.log(person_series_list)


        // 指定图表的配置项和数据
option_person = {
    backgroundColor: 'rgba(255,255,255,0.7)',

    title: {
        text: '收入占比',
        left: 'center',
        top: 20,
        textStyle: {
            color: '#636363'
        }
    },

    tooltip: {
        trigger: 'item',
        formatter: '{a} <br/>{b} : {c} ({d}%)'
    },

    visualMap: {
        show: false,
        min: 80,
        max: 600,
        inRange: {
            colorLightness: [0, 1]
        }
    },
    series: [
        {
            name: '收入来源',
            type: 'pie',
            radius: '55%',
            center: ['50%', '50%'],
            data: person_series_list.sort(function (a, b) { return a.value - b.value; }),
            roseType: 'radius',
            label: {
                color: 'rgb(85,85,85)'
            },
            labelLine: {
                lineStyle: {
                    color: 'rgb(68,68,68)'
                },
                smooth: 0.2,
                length: 10,
                length2: 20
            },
            itemStyle: {
                color: '#c23531',
                shadowBlur: 200,
                shadowColor: 'rgba(0, 0, 0, 0.5)'
            },

            animationType: 'scale',
            animationEasing: 'elasticOut',
            animationDelay: function (idx) {
                return Math.random() * 200;
            }
        }
    ]
};
        // 使用刚指定的配置项和数据显示图表。
        myChart.setOption(option_person);
    </script>
</body>
</html>